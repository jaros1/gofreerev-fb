2) Maybe allow comments to gifts in Gofreerev => Post af FB comments

3) Invite friends to app function?

5) opera. client side validation not working in gifts/index page. Works in other browsers.

9) few price info on gifts/index page. More information available in titles
   Full price information in user/show page

17) exchanged social dividend is displayed as gifts/index view, but social dividend = negative_interest / 4 is missing.
    add social dividend (negative_interest / 4) to balance.
    display social dividend in format_user_balance
    done: add key with social dividend to balance hash
    social dividend is splitted in currencies.
    done:  maybe add a negative interest / social dividend hash to user
    maybe add a system user - negative currency could be gifts from users to system user and social dividend gifts from system user to users

18) Check da texts in rails-i18n

19) allow negative price?
    E.g. if user wish find some thing og get help. Solutions:
    a) negative price - problem with from/to in gifts/index page
    b) radio group or check box in create gift page (giver or receiver)
    c) negative price. set user_id_receiver. Blank user_id_giver
    Implementing b) with an radio group

20) how much information to se about deals between friends and friends friends?
    FB: Shows status from friends on wall - do not show status from friends friends on wall
    Show balance for friends - do not show balance for friends friends
    Show gifts started by friends as giver or receiver with all pictures and comments
    Anonymous gifts started by friends friends as giver or receiver and with friends as receiver or giver
    - display received at and balance.
    - hide picture and name of friends friend
    - hide text and pictures

21) when closing at deal and paying with money.
    select between anonymous money without a linked story or link the money to one or more stores / other gifts
    anonymous money - no links between gifts - no story updates
    linked money - story updates

21) gifts/index: link to gift

22) show gift

23) delete gift.
    It should be possible to delete open gifts in gifts/index page
    You should get a confirm dialog if you tries to delete on closed gift

24) balance sorted by received_at in user.recalculate_balance
    gifts sorted by created_at desc in gifts/index
    closed deals should be sorted by received_at descending to display balance in correct order
    open deals should be sorted by newest comment in top
    maybe sort by received_at || created_at <=>  order("ifnull(received_at,created_at)
    sort by received_at not possible. received_at is encrypted text in db
    maybe add field with timestamp for last comment. Newest created / closed / commented deals first
    must be a not encrypted field
    problem. what if different users wishes different sort criteria?  fx a) sort by received_at, b) sort by comment_at, c) etc

4) get timezone from login api. ok. timezone added to user
   Use timezone in views. . not yet any timestamps in views.

25) add date format. see application_helper.format_date

25) add time format. Use timezone in time format in viiws

26) add a count to a gift. Normally only 1 gift, but can be any number or nil. Eg. nil for a offered service.
    Clone a closed gift, keep the original gift and decrease counter. Close deal when counter reaches zero.
    Maybe link all the stories if accepted by the receiver

27) users/show
    friends - show detailed user information
    non friends - link to FB page - link with friend request

29) notifications:
    get a app access token
    Many FB notification can be marked as spam
    Implement internal app notifications so that FB notification only is used for not logged in users

30) user balance not shown correct
    for example charlie balance in usd and in dkk
    Looks like a sign problem
    List balance in users/show page and debug the problem from here.

31) Internal gofreerev app notifications
    a) pending friend requests. app_friend = 'P'
    b) new friends
    add notification table
